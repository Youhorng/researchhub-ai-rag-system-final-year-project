# ============================================================
# ResearchHub — Environment Variables Example
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# NEVER commit .env or .env.production to git.
# This file is safe to commit — it contains no real secrets.
# ============================================================

# ── Application ──────────────────────────────────────────────
DEBUG=true
ENVIRONMENT=development
PROJECT_NAME=researchhub

# ── Frontend ──────────────────────────────────────────────────
VITE_API_URL=http://localhost:8000

# ── Clerk Authentication ──────────────────────────────────────
# Get from: https://dashboard.clerk.com → API Keys
VITE_CLERK_PUBLISHABLE_KEY=pk_test_
CLERK_PUBLISHABLE_KEY=pk_test_
CLERK_SECRET_KEY=sk_test_

# ── PostgreSQL ────────────────────────────────────────────────
POSTGRES_DB=rag_db
POSTGRES_USER=rag_user
POSTGRES_PASSWORD=change_me
POSTGRES_DATABASE_URL=postgresql+psycopg2://rag_user:change_me@postgres:5432/rag_db

# ── Redis ─────────────────────────────────────────────────────
REDIS__HOST=redis
REDIS__PORT=6379
REDIS__PASSWORD=change_me
REDIS__DB=0
REDIS__TTL_HOURS=6

# ── OpenSearch ────────────────────────────────────────────────
OPENSEARCH__HOST=http://opensearch:9200
OPENSEARCH__INDEX_NAME=arxiv-papers
OPENSEARCH__VECTOR_DIMENSION=1024
OPENSEARCH__VECTOR_SPACE_TYPE=cosinesimil
OPENSEARCH__RRF_PIPELINE_NAME=hybrid-rrf-pipeline
OPENSEARCH__MAX_TEXT_SIZE=1000000

# ── Ollama (local LLM) ────────────────────────────────────────
OLLAMA_HOST=http://ollama:11434
OLLAMA_MODEL=llama3.2:1b
OLLAMA_TIMEOUT=300

# ── Jina AI Embeddings ────────────────────────────────────────
# Get from: https://jina.ai → API Keys
JINA_API_KEY=

# ── MinIO (Object Storage for PDF uploads) ────────────────────
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=change_me
MINIO_SECRET_KEY=change_me_long_secret
MINIO_BUCKET_DOCUMENTS=researchhub-documents
MINIO_SECURE=false

# ── ArXiv API ─────────────────────────────────────────────────
ARXIV__BASE_URL=https://export.arxiv.org/api/query
ARXIV__MAX_RESULTS=15
ARXIV__RATE_LIMIT_DELAY=3.0
ARXIV__TIMEOUT_SECONDS=30
ARXIV__PDF_CACHE_DIR=./data/arxiv_pdfs
ARXIV__DOWNLOAD_MAX_RETRIES=3
ARXIV__DOWNLOAD_RETRY_DELAY_BASE=5.0
ARXIV__MAX_CONCURRENT_DOWNLOADS=5

# ── PDF Parser ────────────────────────────────────────────────
PDF_PARSER__MAX_PAGES=30
PDF_PARSER__MAX_FILE_SIZE_MB=20
PDF_PARSER__DO_OCR=false

# ── Text Chunking ─────────────────────────────────────────────
CHUNKING__CHUNK_SIZE=600
CHUNKING__OVERLAP_SIZE=100
CHUNKING__MIN_CHUNK_SIZE=100

# ── Langfuse (LLM Observability) ──────────────────────────────
# Get keys from: http://localhost:3001 → Settings → API Keys
LANGFUSE__ENABLED=true
LANGFUSE__HOST=http://localhost:3001
LANGFUSE__PUBLIC_KEY=
LANGFUSE__SECRET_KEY=
LANGFUSE__FLUSH_AT=15
LANGFUSE__FLUSH_INTERVAL=1.0
LANGFUSE__DEBUG=true

# Langfuse server config (generate with: python -c "import secrets; print(secrets.token_hex(32))")
LANGFUSE__NEXTAUTH_SECRET=
LANGFUSE__SALT=
LANGFUSE__ENCRYPTION_KEY=
LANGFUSE__REDIS_PASSWORD=change_me
LANGFUSE__MINIO_ACCESS_KEY=change_me
LANGFUSE__MINIO_SECRET_KEY=change_me_secret

# Langfuse dedicated PostgreSQL
LANGFUSE_POSTGRES_USER=langfuse
LANGFUSE_POSTGRES_PASSWORD=change_me
LANGFUSE_POSTGRES_DB=langfuse
LANGFUSE_POSTGRES_URL=postgresql://langfuse:change_me@langfuse-postgres:5432/langfuse

# ── ClickHouse (Langfuse analytics) ──────────────────────────
CLICKHOUSE_DB=langfuse
CLICKHOUSE_USER=langfuse
CLICKHOUSE_PASSWORD=change_me

# ── Airflow ───────────────────────────────────────────────────
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=true
AIRFLOW__HOME=/opt/airflow
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://rag_user:change_me@postgres:5432/rag_db

# ── Telegram (optional) ───────────────────────────────────────
TELEGRAM__ENABLED=false
TELEGRAM__BOT_TOKEN=
